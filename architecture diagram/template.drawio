<mxfile pages="2"><diagram id="diagramid" name="Diagram"><mxGraphModel dx="1652" dy="699" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="1169" pageHeight="1654" background="none" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="2" value="ImagesS3Bucket" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#60A337;gradientDirection=north;fillColor=#277116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" parent="1" vertex="1"><mxGeometry x="130" y="910" width="50" height="50" as="geometry"/></mxCell><mxCell id="3" value="PhotoViewerDynamoDBTable" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#4D72F3;gradientDirection=north;fillColor=#3334B9;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" parent="1" vertex="1"><mxGeometry x="940" y="780" width="50" height="50" as="geometry"/></mxCell><mxCell id="4" value="LambdaExecutionRole" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.role;" parent="1" vertex="1"><mxGeometry x="380" y="779.9953125" width="50" height="50" as="geometry"/></mxCell><mxCell id="5" value="PhotoViewerUserPool" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;" parent="1" vertex="1"><mxGeometry x="250" y="240" width="50" height="50" as="geometry"/></mxCell><mxCell id="10" value="PhotoViewerApiGateway" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#945DF2;gradientDirection=north;fillColor=#5A30B5;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" parent="1" vertex="1"><mxGeometry x="-230" y="600" width="50" height="50" as="geometry"/></mxCell><mxCell id="34" style="edgeStyle=none;rounded=1;html=1;strokeColor=default;fontColor=#EA6B66;" edge="1" parent="1" source="11" target="2"><mxGeometry relative="1" as="geometry"><mxPoint x="180" y="910" as="targetPoint"/><Array as="points"><mxPoint x="200" y="540"/><mxPoint x="200" y="940"/></Array></mxGeometry></mxCell><mxCell id="11" value="UploadS3ImagesFunction" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="1" vertex="1"><mxGeometry x="-50" y="512.7" width="50" height="50" as="geometry"/></mxCell><mxCell id="35" style="edgeStyle=none;rounded=1;html=1;strokeColor=default;fontColor=#EA6B66;" edge="1" parent="1" source="12" target="2"><mxGeometry relative="1" as="geometry"><mxPoint x="170" y="900" as="targetPoint"/><Array as="points"><mxPoint x="100" y="645"/><mxPoint x="100" y="935"/></Array></mxGeometry></mxCell><mxCell id="12" value="GetS3ImagesFunction" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="1" vertex="1"><mxGeometry x="-50" y="620" width="50" height="50" as="geometry"/></mxCell><mxCell id="36" style="edgeStyle=none;rounded=1;html=1;strokeColor=default;fontColor=#EA6B66;" edge="1" parent="1" source="13"><mxGeometry relative="1" as="geometry"><mxPoint x="140" y="910" as="targetPoint"/><Array as="points"><mxPoint x="140" y="745"/></Array></mxGeometry></mxCell><mxCell id="13" value="UpdateS3ImagesFunction" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="1" vertex="1"><mxGeometry x="-50" y="720.0032465277777" width="50" height="50" as="geometry"/></mxCell><mxCell id="37" style="edgeStyle=none;rounded=1;html=1;strokeColor=default;fontColor=#EA6B66;" edge="1" parent="1" source="14" target="2"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="155" y="845"/></Array></mxGeometry></mxCell><mxCell id="14" value="DeleteS3ImagesFunction" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="1" vertex="1"><mxGeometry x="-50" y="820.0032465277777" width="50" height="50" as="geometry"/></mxCell><mxCell id="15" value="PostConfirmationFunction" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="1" vertex="1"><mxGeometry x="580" y="224.99833333333333" width="50" height="50" as="geometry"/></mxCell><mxCell id="16" value="PostConfirmationLambdaInvokePermission" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.policy;" parent="1" vertex="1"><mxGeometry x="170" y="360" width="50" height="50" as="geometry"/></mxCell><mxCell id="17" value="DependenciesLayer" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#aaaaaa;gradientDirection=north;fillColor=#aaaaaa;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.serverless;" parent="1" vertex="1"><mxGeometry x="-50" y="920" width="50" height="50" as="geometry"/></mxCell><mxCell id="22" value="s3  &#10;${imagess3bucket}/*" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#aaaaaa;gradientDirection=north;fillColor=#aaaaaa;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" parent="1" vertex="1"><mxGeometry x="840" y="860" width="50" height="50" as="geometry"/></mxCell><mxCell id="23" value="logs * *&#10;*" style="outlineConnect=0;fontColor=#B3B3B3;gradientColor=#aaaaaa;gradientDirection=north;fillColor=#aaaaaa;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudwatch;" parent="1" vertex="1"><mxGeometry x="940" y="860" width="50" height="50" as="geometry"/></mxCell><mxCell id="s3  &#10;${imagess3bucket}/*|LambdaExecutionRole" value="PolicyDocument" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#EA6B66;noEdgeStyle=1;orthogonal=1;" parent="1" source="4" target="22" edge="1"><mxGeometry x="0.4265" y="17" relative="1" as="geometry"><Array as="points"><mxPoint x="670" y="810"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="logs * *&#10;*|LambdaExecutionRole" value="PolicyDocument" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#EA6B66;noEdgeStyle=1;orthogonal=1;" parent="1" source="4" target="23" edge="1"><mxGeometry x="0.0078" y="10" relative="1" as="geometry"><Array as="points"><mxPoint x="650" y="910"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="PhotoViewerDynamoDBTable|LambdaExecutionRole" value="PolicyDocument" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#EA6B66;noEdgeStyle=1;orthogonal=1;" parent="1" source="4" target="3" edge="1"><mxGeometry x="0.0192" y="12" relative="1" as="geometry"><Array as="points"><mxPoint x="770" y="770"/><mxPoint x="890" y="770"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="PostConfirmationFunction|PhotoViewerUserPool" value="PostConfirmationTrigger" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#EA6B66;noEdgeStyle=1;orthogonal=1;" parent="1" source="5" target="15" edge="1"><mxGeometry y="20" relative="1" as="geometry"><Array as="points"><mxPoint x="312" y="250"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="PhotoViewerUserPool|PhotoViewerApi" value="CognitoAuthorizer" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#EA6B66;noEdgeStyle=1;orthogonal=1;" parent="1" source="10" target="5" edge="1"><mxGeometry x="0.0002" y="10" relative="1" as="geometry"><Array as="points"><mxPoint x="-180" y="270"/><mxPoint x="238" y="266.6666666666667"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="PhotoViewerApi|UploadS3ImagesFunction" value="Invoke" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#1ba1e2;strokeColor=#006EAF;labelBackgroundColor=none;fontColor=#7EA6E0;noEdgeStyle=1;orthogonal=1;" parent="1" source="10" target="11" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="-130" y="600"/><mxPoint x="-130" y="520"/></Array></mxGeometry></mxCell><mxCell id="LambdaExecutionRole|UploadS3ImagesFunction" value="Role" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#EA6B66;noEdgeStyle=1;orthogonal=1;strokeColor=default;" parent="1" source="11" target="4" edge="1"><mxGeometry x="0.0145" y="20" relative="1" as="geometry"><Array as="points"><mxPoint x="180" y="510"/><mxPoint x="310" y="510"/><mxPoint x="310" y="730"/><mxPoint x="310" y="820"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="PhotoViewerApi|GetS3ImagesFunction" value="Invoke" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#1ba1e2;strokeColor=#006EAF;labelBackgroundColor=none;fontColor=#7EA6E0;noEdgeStyle=1;orthogonal=1;" parent="1" source="10" target="12" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="-50" y="630"/></Array></mxGeometry></mxCell><mxCell id="LambdaExecutionRole|GetS3ImagesFunction" value="Role" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#EA6B66;noEdgeStyle=1;orthogonal=1;" parent="1" source="12" target="4" edge="1"><mxGeometry x="-0.0699" y="12" relative="1" as="geometry"><Array as="points"><mxPoint x="320" y="620"/><mxPoint x="320" y="750"/><mxPoint x="320" y="790"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="PhotoViewerApi|UpdateS3ImagesFunction" value="Invoke" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#1ba1e2;strokeColor=#006EAF;labelBackgroundColor=none;fontColor=#7EA6E0;noEdgeStyle=1;orthogonal=1;" parent="1" source="10" target="13" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="-120" y="650"/><mxPoint x="-120" y="720"/></Array></mxGeometry></mxCell><mxCell id="LambdaExecutionRole|UpdateS3ImagesFunction" value="Role" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#EA6B66;noEdgeStyle=1;orthogonal=1;" parent="1" source="13" target="4" edge="1"><mxGeometry y="10" relative="1" as="geometry"><Array as="points"><mxPoint x="290" y="720"/><mxPoint x="290" y="820"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="PhotoViewerApi|DeleteS3ImagesFunction" value="Invoke" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#1ba1e2;strokeColor=#006EAF;labelBackgroundColor=none;fontColor=#7EA6E0;noEdgeStyle=1;orthogonal=1;" parent="1" source="10" target="14" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="-180" y="845"/></Array></mxGeometry></mxCell><mxCell id="LambdaExecutionRole|DeleteS3ImagesFunction" value="Role" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#EA6B66;noEdgeStyle=1;orthogonal=1;" parent="1" source="14" target="4" edge="1"><mxGeometry x="0.1579" y="10" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="PostConfirmationFunction|PostConfirmationLambdaInvokePermission" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#EA6B66;noEdgeStyle=1;orthogonal=1;" parent="1" source="16" target="15" edge="1"><mxGeometry x="0.1089" y="100" relative="1" as="geometry"><Array as="points"><mxPoint x="330" y="390"/><mxPoint x="610" y="390"/><mxPoint x="610" y="340"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="PhotoViewerUserPool|PostConfirmationLambdaInvokePermission" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=none;fontColor=#EA6B66;noEdgeStyle=1;orthogonal=1;" parent="1" source="16" target="5" edge="1"><mxGeometry x="-0.0968" y="35" relative="1" as="geometry"><Array as="points"><mxPoint x="195" y="260"/><mxPoint x="236" y="260"/></Array><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="27" value="" style="group" vertex="1" connectable="0" parent="1"><mxGeometry x="-490" y="600" width="90" height="70" as="geometry"/></mxCell><mxCell id="25" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.s3;fillColor=#E05243;gradientColor=none;" vertex="1" parent="27"><mxGeometry x="22.5" width="45" height="50.9090909090909" as="geometry"/></mxCell><mxCell id="26" value="S3StaticSite" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="27"><mxGeometry x="0.001428571428572667" y="50.9090909090909" width="90" height="30" as="geometry"/></mxCell><mxCell id="29" style="edgeStyle=none;rounded=1;html=1;strokeColor=default;" edge="1" parent="1" source="25" target="10"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="31" style="edgeStyle=none;rounded=1;html=1;strokeColor=default;" edge="1" parent="1" source="25" target="5"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="-445" y="190"/><mxPoint x="275" y="190"/></Array></mxGeometry></mxCell><mxCell id="32" value="&lt;font color=&quot;#ea6b66&quot;&gt;Authenticate&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="31"><mxGeometry x="-0.4852" y="-3" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell></root></mxGraphModel></diagram></mxfile>